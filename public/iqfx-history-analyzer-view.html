<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>INSPINIA | Dashboard</title>

  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="font-awesome/css/font-awesome.css" rel="stylesheet">

  <link href="css/plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet">
  <!-- Toastr style -->
  <link href="css/plugins/toastr/toastr.min.css" rel="stylesheet">

  <!-- Gritter -->
  <link href="js/plugins/gritter/jquery.gritter.css" rel="stylesheet">

  <link href="css/animate.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/css/bootstrap-editable.css"
        rel="stylesheet"/>
</head>

<body>
<div id="wrapper">
  <nav class="navbar-default navbar-static-side" role="navigation">
  </nav>

  <div id="page-wrapper" class="gray-bg dashbard-1">
    <div class="row border-bottom">
      <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">

      </nav>
    </div>
    <div class="row wrapper border-bottom white-bg page-heading">
      <div class="col-lg-10">
        <h2>Анализ истории</h2>
        <ol class="breadcrumb">
          <li>
            <a href="index.html">Home</a>
          </li>
          <li>
            <a>App Views</a>
          </li>
          <li class="active">
            <strong>Clients</strong>
          </li>
        </ol>
      </div>
      <div class="col-lg-2">
      </div>
    </div>
    <div class="wrapper wrapper-content animated fadeInRight">
      <div class="row">
        <div class="col-sm-12">
          <div class="ibox">
            <div class="ibox-title">
              <h5>Действия</h5>
              <div class="pull-right">
                <button type="button" class="btn btn-xs btn-primary btn-outline">
                  Запустить <i class="fa fa-play"></i>
                </button>
                <button type="button" class="btn btn-xs btn-success">
                  Скопировать в реалтайм анализатор <i class="fa fa-copy"></i>
                </button>
                <button type="button" class="btn btn-xs btn-danger">
                  Очистить сигналы и паттерны анализа <i class="fa fa-trash-o"></i>
                </button>
              </div>
            </div>
            <div class="ibox-content">
              <div class="row">
                <div class="col-sm-4">
                  <h5>Диапазон сканирования</h5>
                  <div id="reportrange" class="form-control">
                    <i class="fa fa-calendar"></i>
                    <span></span> <b class="caret"></b>
                  </div>
                </div>
              </div>
              <div class="row animated fadeIn">
                <hr>
                <div class="col-sm-12">
                  <h4>Состояние сканирования:
                    <span class="label label-primary">Идет анализ</span>
                  </h4>
                    <div class="col-sm-6">
                      <span class="text text-success">Собрано 40% (258 из 2034)</span>
                    </div>
                    <div class="col-sm-6">
                      <div class="progress progress-striped active">
                        <div style="width: 40%" role="progressbar" class="progress-bar progress-bar-success"></div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <span class="text text-info">Обработано 40% (258 из 2034)</span>
                    </div>
                    <div class="col-sm-6">
                      <div class="progress progress-striped active">
                        <div style="width: 40%" class="progress-bar progress-bar-info"></div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <span class="text text-danger">Сигналов реализовано</span>
                    </div>
                    <div class="col-sm-6">
                      <span class="label label-danger">765</span>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row animated fadeIn">
        <div class="col-sm-12">
          <div class="ibox">
            <div class="ibox-title">
              <h5>График и результаты</h5>
            </div>
            <div class="ibox-content">
              <div class="row">
                <div class="col-sm-8">
                  <div class="flot-chart">
                    <div class="flot-chart-content" id="flot-dashboard5-chart"
                         style="padding: 0px; position: relative;"></div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="row m-t-xs">
                    <div class="col-xs-6">
                      <h5 class="m-b-xs">Баланс тиков</h5>
                      <h1 class="no-margins">160,000</h1>
                      <div class="font-bold text-navy">98% <i class="fa fa-bolt"></i> профит</div>
                    </div>
                    <div class="col-xs-6">
                      <h5 class="m-b-xs">Сигналов</h5>
                      <h1 class="no-margins">42,120</h1>
                      <div class="font-bold text-navy">98% <i class="fa fa-bolt"></i> профит</div>
                    </div>
                  </div>
                  <table class="table small m-t-sm">
                    <tbody>
                    <tr>
                      <td>
                        <strong>142</strong> Лучший сигнал
                      </td>
                      <td>
                        <strong>22</strong> Успешных
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>61</strong> Худший сигнал
                      </td>
                      <td>
                        <strong>54</strong> Убытычных
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>154</strong> Сред. сигнал
                      </td>
                      <td>
                        <strong>32</strong> Нейтральных
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row animated fadeIn">
        <div class="col-sm-8">
          <div class="ibox">
            <div class="ibox-content">
              <span class="text-muted small pull-right">Актуально на: <i class="fa fa-clock-o"></i> 2:10 pm - 12.06.2014</span>
              <h2>Данные анализа</h2>
              <div class="pull-right">
                <button class="btn btn-outline btn-xs btn-link"><i class="fa fa-remove"></i> Сбросить</button>
              </div>
              <p>
                Фильтры применяются к данным только этого анализа за интервал времени
              </p>
              <div class="float-e-margins">
                <div class="btn-group">
                  <button class="btn btn-outline btn-xs btn-primary"><i class="fa fa-sort-asc"></i> Call/Put</button>
                  <button class="btn btn-outline btn-xs btn-danger"><i class="fa fa-sort-asc"></i> Put/Call</button>
                  <button class="btn btn-outline btn-xs btn-primary">Δ Call к Put</button>
                  <button class="btn btn-outline btn-xs btn-danger">Δ Put к Call</button>
                </div>
                <div class="btn-group">
                  <button class="btn btn-outline btn-xs btn-primary"><i class="fa fa-sort-numeric-desc"></i> Время
                  </button>
                  <button class="btn btn-outline btn-xs btn-primary"><i class="fa fa-sort-numeric-asc"></i> Время
                  </button>
                </div>
                <div class="btn-group">
                  <button class="btn btn-outline btn-xs btn-primary"><i class="fa fa-sort-numeric-desc"></i> Тики
                  </button>
                  <button class="btn btn-outline btn-xs btn-primary"><i class="fa fa-sort-numeric-asc"></i> Тики
                  </button>
                </div>
                <div class="btn-group">
                  <button class="btn btn-outline btn-xs btn-primary"><i class="fa fa-sort-asc"></i> Call тренд
                  </button>
                  <button class="btn btn-outline btn-xs btn-danger"><i class="fa fa-sort-asc"></i> Put тренд
                  </button>
                </div>
                <div class="btn-group">
                  <button class="btn btn-outline btn-xs btn-primary"><i class="fa fa-sort-numeric-desc"></i> сигналы
                  </button>
                  <button class="btn btn-outline btn-xs btn-primary"><i class="fa fa-sort-numeric-asc"></i> сигналы
                  </button>
                </div>
                <div class="btn-group">
                  <button class="btn btn-outline btn-xs btn-danger">Отключенные</button>
                  <button class="btn btn-outline btn-xs btn-primary active">Включенные</button>
                </div>
              </div>
              <div>
                <ul class="nav nav-tabs">
                  <span class="pull-right small text-muted">1406 Элементов</span>
                  <li class="active"><a data-toggle="tab" href="#patterns" aria-expanded="true"><i
                    class="fa fa-user"></i>
                    Паттерны</a></li>
                  <li class=""><a data-toggle="tab" href="#signals" aria-expanded="false"><i
                    class="fa fa-briefcase"></i>
                    Сигналы</a></li>
                </ul>
                <div class="tab-content">
                  <div id="patterns" class="tab-pane active">
                    <table class="table table-striped table-hover">
                      <thead>
                      <th>#</th>
                      <th>Seq.</th>
                      <th>Длит.</th>
                      <th>Тренд</th>
                      <th>Call/Put(All)</th>
                      <th>Сигналов</th>
                      <th>Действия</th>
                      </th>
                      </thead>
                      <tbody>
                      <tr>
                        <td><a href="javascript:return false">32423</a></td>
                        <td><span class="line">5,3,2,-1,-3,-2,2,3,5,2</span></td>
                        <td>800c</td>
                        <td class="text-navy">2 <i class="fa fa-level-up"></i></td>
                        <td><span class="text-navy">2</span>/<span class="text-danger">2</span> (4)</td>
                        <td>8</td>
                        <td><i class="fa fa-remove pointer"></i></td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                  <div id="signals" class="tab-pane">
                    <div class="table-responsive">
                      <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                          <th>#</th>
                          <th>Seq.</th>
                          <th>Патт.</th>
                          <th>Длит.</th>
                          <th>Тиков</th>
                          <th>Результат</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                          <td>1</td>
                          <td><span class="line">5,3,2,-1,-3,-2,2,3,5,2</span></td>
                          <td><a href="javascript:return false">32423</a></td>
                          <td>360c</td>
                          <td class="text-navy">2 <i class="fa fa-level-up"></i></td>
                          <td><i class="fa fa-check text-navy"></i></td>
                        </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="ibox">
            <div class="ibox-content">
              Выберите паттерн
            </div>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="ibox">
            <div class="ibox-title">
              <div class="pull-right">
                <i class="fa fa-close pointer" style="margin-top: 6px;"></i>
              </div>
              <h4>Паттерн #12324</h4>
            </div>
            <div class="ibox-content">
              <div class="tab-content">
                <div class="row m-b-lg">
                  <div class="row">
                    <div class="col-sm-12">
                      <div id="sparkline1">
                        <canvas></canvas>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-12">
                    <div class="row">
                      <div class="col-xs-6">
                        <h5 class="m-b-xs">Баланс тиков</h5>
                        <h1 class="no-margins">160,000</h1>
                      </div>
                      <div class="col-xs-6">
                        <h5 class="m-b-xs">Прогнозов</h5>
                        <h1 class="no-margins">42,120</h1>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12">
                        <hr>
                        <h4>Прогнозы</h4>
                        <table class="table small m-t-sm">
                          <tbody>
                          <tr>
                            <td>
                              <strong>142</strong> Лучший
                            </td>
                            <td>
                              <strong>22</strong> Успешных
                            </td>
                          </tr>
                          <tr>
                            <td>
                              <strong>61</strong> Худший
                            </td>
                            <td>
                              <strong>54</strong> Убытычных
                            </td>
                          </tr>
                          <tr>
                            <td>
                              <strong>154</strong> Средний
                            </td>
                            <td>
                              <strong>32</strong> Нейтральных
                            </td>
                          </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="pull-right">
                          <button class="btn btn-success btn-outline btn-rounded btn-xs">
                            Просмотреть прогнозы паттерна <i class="fa fa-mail-forward"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Mainly scripts -->
<script src="js/jquery-2.1.1.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script
  src="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
<!-- Flot -->
<script src="js/plugins/flot/jquery.flot.js"></script>
<script src="js/plugins/flot/jquery.flot.tooltip.min.js"></script>
<script src="js/plugins/flot/jquery.flot.spline.js"></script>
<script src="js/plugins/flot/jquery.flot.resize.js"></script>
<script src="js/plugins/flot/jquery.flot.pie.js"></script>
<script src="js/plugins/flot/jquery.flot.time.js"></script>

<!-- Peity -->
<script src="js/plugins/peity/jquery.peity.min.js"></script>
<script src="js/demo/peity-demo.js"></script>

<!-- Custom and plugin javascript -->
<script src="js/inspinia.js"></script>
<script src="js/plugins/pace/pace.min.js"></script>

<!-- jQuery UI -->
<script src="js/plugins/jquery-ui/jquery-ui.min.js"></script>

<!-- GITTER -->
<script src="js/plugins/gritter/jquery.gritter.min.js"></script>

<!-- Sparkline -->
<script src="js/plugins/sparkline/jquery.sparkline.min.js"></script>

<!-- Sparkline demo data  -->
<script src="js/demo/sparkline-demo.js"></script>

<!-- ChartJS-->
<script src="js/plugins/chartJs/Chart.min.js"></script>

<!-- Toastr -->
<script src="js/plugins/toastr/toastr.min.js"></script>

<!-- Date range use moment.js same as full calendar plugin -->
<script src="js/plugins/fullcalendar/moment.min.js"></script>

<!-- Date range picker -->
<script src="js/plugins/daterangepicker/daterangepicker.js"></script>


<script>
  $(document).ready(function () {


    var data2 = [
      [gd(2012, 1, 1), 7], [gd(2012, 1, 2), 6], [gd(2012, 1, 3), 4], [gd(2012, 1, 4), 8],
      [gd(2012, 1, 5), 9], [gd(2012, 1, 6), 7], [gd(2012, 1, 7), 5], [gd(2012, 1, 8), 4],
      [gd(2012, 1, 9), 7], [gd(2012, 1, 10), 8], [gd(2012, 1, 11), 9], [gd(2012, 1, 12), 6],
      [gd(2012, 1, 13), 4], [gd(2012, 1, 14), 5], [gd(2012, 1, 15), 11], [gd(2012, 1, 16), 8],
      [gd(2012, 1, 17), 8], [gd(2012, 1, 18), 11], [gd(2012, 1, 19), 11], [gd(2012, 1, 20), 6],
      [gd(2012, 1, 21), 6], [gd(2012, 1, 22), 8], [gd(2012, 1, 23), 11], [gd(2012, 1, 24), 13],
      [gd(2012, 1, 25), 7], [gd(2012, 1, 26), 9], [gd(2012, 1, 27), 9], [gd(2012, 1, 28), 8],
      [gd(2012, 1, 29), 5], [gd(2012, 1, 30), 8], [gd(2012, 1, 31), 25]
    ];

    var data3 = [
      [gd(2012, 1, 1), 800], [gd(2012, 1, 2), 500], [gd(2012, 1, 3), 600], [gd(2012, 1, 4), 700],
      [gd(2012, 1, 5), 500], [gd(2012, 1, 6), 456], [gd(2012, 1, 7), 800], [gd(2012, 1, 8), 589],
      [gd(2012, 1, 9), 467], [gd(2012, 1, 10), 876], [gd(2012, 1, 11), 689], [gd(2012, 1, 12), 700],
      [gd(2012, 1, 13), 500], [gd(2012, 1, 14), 600], [gd(2012, 1, 15), 700], [gd(2012, 1, 16), 786],
      [gd(2012, 1, 17), 345], [gd(2012, 1, 18), 888], [gd(2012, 1, 19), 888], [gd(2012, 1, 20), 888],
      [gd(2012, 1, 21), 987], [gd(2012, 1, 22), 444], [gd(2012, 1, 23), 999], [gd(2012, 1, 24), 567],
      [gd(2012, 1, 25), 786], [gd(2012, 1, 26), 666], [gd(2012, 1, 27), 888], [gd(2012, 1, 28), 900],
      [gd(2012, 1, 29), 178], [gd(2012, 1, 30), 555], [gd(2012, 1, 31), 993]
    ];


    var dataset = [
      {
        label: "Количество сигналов",
        data: data3,
        color: "#1ab394",
        bars: {
          show: true,
          align: "center",
          barWidth: 24 * 60 * 60 * 600,
          lineWidth: 0
        },
        tooltip: {
          show: true
        }

      }, {
        label: "Котировки",
        data: data2,
        yaxis: 2,
        color: "#1C84C6",
        lines: {
          lineWidth: 1,
          show: true,
          fill: true,
          fillColor: {
            colors: [{
              opacity: 0.2
            }, {
              opacity: 0.4
            }]
          }
        }
      }
    ];

    var options = {
      xaxis: {
        mode: "time",
        tickSize: [3, "day"],
        tickLength: 0,
        axisLabel: "Date",
        axisLabelUseCanvas: true,
        axisLabelFontSizePixels: 12,
        axisLabelFontFamily: 'Arial',
        axisLabelPadding: 10,
        color: "#d5d5d5"
      },
      yaxes: [{
        position: "left",
        max: 1070,
        color: "#d5d5d5",
        axisLabelUseCanvas: true,
        axisLabelFontSizePixels: 12,
        axisLabelFontFamily: 'Arial',
        axisLabelPadding: 3
      }, {
        position: "right",
        clolor: "#d5d5d5",
        axisLabelUseCanvas: true,
        axisLabelFontSizePixels: 12,
        axisLabelFontFamily: ' Arial',
        axisLabelPadding: 67
      }
      ],
      legend: {
        noColumns: 1,
        labelBoxBorderColor: "#000000",
        position: "nw"
      },
      grid: {
        hoverable: true,
        borderWidth: 0
      },
      tooltip: {
        show: true,
        onHover: function (flotItem, $tooltipEl) {
          console.log(flotItem, $tooltipEl)
        }
      }
    };

    function gd(year, month, day) {
      return new Date(year, month - 1, day).getTime();
    }


    $.plot($("#flot-dashboard5-chart"), dataset, options);

    $('#reportrange span').html(moment().subtract(29, 'days').format('MMMM D, YYYY') + ' - ' + moment().format('MMMM D, YYYY'));

    $('#reportrange').daterangepicker({
      format: 'MM/DD/YYYY',
      startDate: moment().subtract(29, 'days'),
      endDate: moment(),
      minDate: '01/01/2012',
      maxDate: '12/31/2015',
      dateLimit: {days: 60},
      showDropdowns: true,
      showWeekNumbers: true,
      timePicker: false,
      timePickerIncrement: 1,
      timePicker12Hour: true,
      ranges: {
        'Today': [moment(), moment()],
        'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
        'Last 7 Days': [moment().subtract(6, 'days'), moment()],
        'Last 30 Days': [moment().subtract(29, 'days'), moment()],
        'This Month': [moment().startOf('month'), moment().endOf('month')],
        'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
      },
      opens: 'right',
      drops: 'down',
      buttonClasses: ['btn', 'btn-sm'],
      applyClass: 'btn-primary',
      cancelClass: 'btn-default',
      separator: ' to ',
      locale: {
        applyLabel: 'Submit',
        cancelLabel: 'Cancel',
        fromLabel: 'From',
        toLabel: 'To',
        customRangeLabel: 'Custom',
        daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
        firstDay: 1
      }
    }, function (start, end, label) {
      console.log(start.toISOString(), end.toISOString(), label);
      $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
    });

    $("#sparkline1").sparkline([34, 43, 43, 35, 44, 32, 44, 52], {
      width: "100%",
      height: "80px",
      type: 'line',
      lineColor: '#1ab394',
      fillColor: "transparent"
    });

  });
</script>
</body>
</html>
